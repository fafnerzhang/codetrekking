# RabbitMQ Configuration
# CodeTrekking Fitness Data Pipeline

# Management plugin and basic settings
management.tcp.port = 15672
management.tcp.ip = 0.0.0.0

# HTTP API settings
management.http_log_dir = /var/log/rabbitmq/management

# Enable management plugin by default
management.load_definitions = /etc/rabbitmq/definitions.json

# Network settings
listeners.tcp.default = 5672

# Logging
log.console = true
log.console.level = info
log.file = true
log.file.level = info

# Memory and disk settings
vm_memory_high_watermark.relative = 0.6
disk_free_limit.relative = 2.0

# Cluster settings for high availability
cluster_formation.peer_discovery_backend = rabbit_peer_discovery_classic_config

# Default user settings (these will be overridden by environment variables)
# RABBITMQ_DEFAULT_USER, RABBITMQ_DEFAULT_PASS, and RABBITMQ_DEFAULT_VHOST
# are set via Docker environment variables in docker-compose

# Enable heartbeat
heartbeat = 600

# TCP settings
tcp_listen_options.backlog = 128
tcp_listen_options.nodelay = true
tcp_listen_options.linger.on = true
tcp_listen_options.linger.timeout = 0
